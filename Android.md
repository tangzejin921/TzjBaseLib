# 基本运用
描述一个基本应用型App通常需要的一些内容

## APP的组成

### 功能组成
#### 二维码
- 控制闪光灯
- 选择照片
#### 定位，导航
#### 业务功能权限
- 登录权限
- 试用权限
- vip 权限
#### Android权限
#### 登录
- 登录过期的处理
- 被挤下线的处理
#### Web，banner展示
#### 反馈
#### 更新
#### 崩溃统计
#### 埋点

### 框架组成
#### Log系统
#### Util集

## 开发中的各种小问题及痛点
- Activity 传参问题
    
    在被启动的Activity里写个静态方法，通过这个静态方法调用，其实是有start模板的，避免同样的传参写多遍。
- Activity 返参问题
    
    将原来的体系改造为接口回调方式，所用Activity finish都会回调，并且可以返参。
- 权限问题，如没登陆不让进入某个页面
    
    activity 启动加拦截器。
- 多页面数据同步问题，如列表跳详情修改数据然后返回列表后数据要同步
    
    可以通过 ViewModelProviders,ViewMode,liveData 实现局部静态变量
- 被挤下线问题，一般会在接口返回里指明

    这个简单，把Activity设置为Dialog窗口，发个广播打开Activity即可


## 规则、原则
- 同一份代码，不要出现多遍

    比如接口返回的某个类，判断性别，很多人不想在这个类里加额外的方法，
    会用"xx".eques(xxx)直接判断,再比如Activity的启动传参方法，很多人同样的传参，
    写的到处都是，这样的代码在不同的地方出现多遍。给修改带里不便，
    如果判断的逻辑有50行，要每一个地方出现同样的代码，版本迭代多了很容易引起不一致。
    给修改和维护带来不便。为什么不在类里加个方法，在方法里处理呢？
- 强后台，弱前台
    
    前端一般有多份代码，android/ios/小程序/h5,如果前端实现某个功能，
    会导致每一端写一遍，版本迭代多了很容易导致不一致。也给测试带来更多的工作量。
    其二后端代码修改方便，不像android/ios一但改了就要发布，周期长，体验不好。
    所以尽量实现强后台，弱前端，后台能实现的尽量后台做，再说了前端只是展示，
    不应该有过多的逻辑功能。
- 时间标准化
    
    发现好多人会去与后台协商时间字段。这有什么好协商的？一般这个标准化成
    yyyy-MM-dd hh:mm:ss或者时间戳即可。前台要展示成什么样就展示成什么样。
    不要更具前台的展示而去改接口，要保证后台的数据记录是标准的。
- 变量赋初值

    如果你学过c那种函数式编程，你应该对这么几句话耳熟，"变量赋初值"，"入参检查"，
    "出参检查"。java 里你也可以这么做。但我发现很多人不喜欢给集合赋初值。我想其他的
    初值不管也就算了，集合应该保证不为null。可以通过赋初值和出参检查实现。
    这个其实在Kotlin中已经在语言层得已解决了。
- 统一UTF-8编码
    
    不管是原代码的格式，还是接口传输的内容都应该统一成UTF-8
- 时刻提醒自己你用的是面向对象语言
    
    有没感觉写着写着就忘了面向对象一些规则